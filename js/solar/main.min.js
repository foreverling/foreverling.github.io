function createTag(e,t){var r="http://www.w3.org/2000/svg",n=document.createElementNS(r,e);for(var a in t)n.setAttribute(a,t[a]);return n}function createSun(){var e=createTag("circle",{cx:centerX,cy:centerY,r:30,style:"fill:url(#runColor)",class:"change"}),t=createTag("text",{x:centerX,y:centerY+8,"font-size":"20",fill:"#fff","text-anchor":"middle"}),r=createTag("g",{style:"cursor:pointer;"});t.innerHTML="太阳",r.appendChild(e),r.appendChild(t),oCon.appendChild(r)}function createPlanet(){for(var e=0;e<planetNum;e++){var t=planetArr[e],r=createTag("g",{}),n=createTag("circle",{cx:centerX,cy:centerY,r:t.r,stroke:"#818296",fill:"none","stroke-width":"2"}),a=createTag("circle",{cx:t.x,cy:t.y,r:t.circleR,fill:color[e],style:"cursor:pointer;transform-origin:"+centerX+"px "+centerY+"px",class:"planetStyle change"});r.appendChild(n),r.appendChild(a),oCon.appendChild(r)}}function createStar(){for(var e=30,t=createTag("g",{}),r=0;r<e;r++){var n=Math.floor(5*Math.random()),a=Math.floor(255*Math.random()),c=Math.floor(255*Math.random()),o=Math.floor(255*Math.random()),l=Math.random();l=l>.5?1:.5;var i=createTag("circle",{class:"star",cx:centerX,cy:centerY,r:n,fill:"rgb("+a+","+c+","+o+")","fill-opacity":l});opacityArr.push(l),t.appendChild(i)}oSvg.appendChild(t)}function bindTag(){for(var e=document.getElementsByClassName("change"),t=0;t<e.length;t++)e[t].index=t,e[t].onmouseenter=function(){statMove(this,planetR[this.index],planetR[this.index]-4)},e[t].onmouseleave=function(){statMove(this,planetR[this.index]-4,planetR[this.index])}}function statMove(e,t,r){var n=t,a=r;e.speed=0,clearInterval(e.timer),e.timer=setInterval(function(){e.speed+=(a-n)/6,e.speed*=.95,Math.abs(a-n)<=1&&Math.abs(e.speed)<=1?(clearInterval(e.timer),e.setAttribute("r",a)):(n+=e.speed,e.setAttribute("r",n))},30)}function loopEvent(){for(var e=document.getElementsByClassName("star"),t=0;t<e.length;t++)1==opacityArr[t]?opacityArr[t]=.5:opacityArr[t]=1,e[t].setAttribute("fill-opacity",opacityArr[t])}for(var oDiv=document.getElementById("div1"),oDiv2=document.getElementById("div2"),oCon=document.getElementById("control"),screenW=document.documentElement.clientWidth,screenH=document.documentElement.clientHeight,dis=Math.floor(screenH/2/8),oSvg=document.getElementById("oSvg"),centerX=screenW/2,centerY=screenH/2,opacityArr=[],planetNum=8,planetArr=[],planetR=[30],sunOpacity=0,color=["#a2640f","#fb9300","#024071","#cd2d13","#8e7467","#b17628","#43556b","#152757"],timer1=null,timer2=null,i=0;i<planetNum;i++){var r=(i+1)*dis,circleR=10+1.5*i,angle=360/planetNum*i/180*Math.PI,x=centerX+r*Math.cos(angle),y=centerY+r*Math.sin(angle);planetArr.push({x:x,y:y,r:r,circleR:circleR}),planetR.push(circleR)}createStar(),setTimeout(function(){for(var e=document.getElementsByClassName("star"),t=0;t<e.length;t++){var r=Math.floor(Math.random()*screenW)-centerX,n=Math.floor(Math.random()*screenH)-centerY;e[t].style.transform="translate("+r+"px,"+n+"px)"}},500),setTimeout(function(){createSun(),createPlanet(),clearInterval(timer2),oDiv2.style.display="block",timer2=setInterval(function(){sunOpacity+=.08,sunOpacity>=1&&(clearInterval(timer2),oDiv2.style.display="none"),oCon.setAttribute("fill-opacity",sunOpacity),oCon.setAttribute("stroke-opacity",sunOpacity)},500),bindTag()},5500),clearInterval(timer1),timer1=setInterval(loopEvent,1e3);