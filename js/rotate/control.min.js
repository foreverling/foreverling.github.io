function musicControl(t,e){var n=document.getElementById("audio2");e.music?($(t).find(".back").css({background:"url('../imgs/rotate/triggle.png')","background-size":"cover"}),n.pause(),e.music=!1):($(t).find(".back").css({background:"url('../imgs/rotate/music.gif')","background-size":"cover"}),n.play(),e.music=!0)}function touchFn(t){var e=Number($("#integral .my").html());if(!t.bRotate){if(!e)return void alert("您的积分不足！");var n=Math.floor(100*Math.random());n>=0&n<50?rotateFn("#award_inner",0,337,"未中奖",t):99==n?rotateFn("#award_inner",1,26,"一等奖",t):98==n?rotateFn("#award_inner",2,88,"二等奖",t):n>=95&&n<98?rotateFn("#award_inner",3,137,"三等奖",t):n>=85&&n<95?rotateFn("#award_inner",4,185,"四等奖",t):n>=70&&n<85?rotateFn("#award_inner",5,235,"五等奖",t):n>=50&&n<70&&rotateFn("#award_inner",6,287,"安慰奖",t)}}function pageScaleSize(t,e){var n=document.documentElement.clientWidth||document.body.clientWidth,a=document.getElementsByTagName("html")[0];e?n>=e?(a.style.fontSize=e/t+"px",a.style.width=e+"px",a.style.margin="0 auto"):(a.style.fontSize=n/t+"px",a.style.width=n+"px",a.style.margin=""):a.style.fontSize=n/t+"px"}function rotateFn(t,e,n,a,i){var o=document.getElementById("audio1");document.getElementById("audio2");i.bRotate=!i.bRotate,$("#rotate").stopRotate(),o.src="../other/rotate.mp3",o.play(),$(t).rotate({angle:0,animateTo:n+1800,duration:3e3,callback:function(){o.src="../other/time.mp3",o.play(),i.pc||($("#award_tip h2").html(a),$("#award_tip").show()),i.bRotate=!i.bRotate;var t=Number($("#integral .my").html());t?$("#integral .my").html(t-100):$("#integral .my").html(t),setTimeout(function(){o.pause(),i.pc&&alert(a)},500)}})}function IsPC(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,a=0;a<e.length;a++)if(t.indexOf(e[a])>0){n=!1;break}return n}$(function(){var t={};t.bRotate=!1,t.pc=IsPC(),t.music=!0,pageScaleSize(7.2),window.addEventListener("resize",function(){pageScaleSize(7.2)},!1),t.pc?($("#pointer").on("click",function(){touchFn(t)}),$("#award_tip").on("click",function(){$(this).hide()}),$("#music").on("click",function(){musicControl(this,t)})):(document.getElementById("pointer").addEventListener("touchstart",function(){touchFn(t)},!1),document.getElementById("award_tip").addEventListener("touchstart",function(){$(this).hide()},!1),document.getElementById("music").addEventListener("touchstart",function(){musicControl(this,t)},!1))});